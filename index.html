<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Игральный Кубик</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: white;
            font-family: Arial, sans-serif;
            overflow: hidden;
            transition: background-color 1s ease;
        }

        /* Фоновые элементы */
        .bg-pattern {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
            pointer-events: none;
        }

        /* Стили для разных фонов */
        .bg-hearts { 
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 24 24'%3E%3Cpath fill='%23ffb6c1' fill-opacity='0.7' d='M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z'/%3E%3C/svg%3E");
            opacity: 0.5;
        }
        .bg-clovers { 
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 24 24'%3E%3Cpath fill='%2390EE90' fill-opacity='0.6' d='M12 2c5.5 0 10 3.3 10 8 0 4.7-4.5 8-10 8-1.9 0-3.7-.4-5.3-1.1l-1.5 1.5c.5.2 1 .3 1.5.3 1.9 0 3.5-1.1 4.4-2.7C9.9 18.2 8.5 18 7 18c-5.5 0-10-3.3-10-8S1.5 2 7 2c1.4 0 2.7.3 3.8.8C11.4 2.3 11.7 2 12 2z'/%3E%3Cpath fill='%2390EE90' fill-opacity='0.6' d='M12 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z'/%3E%3C/svg%3E");
            opacity: 0.5;
        }
        .bg-clouds { 
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 24 24'%3E%3Cpath fill='white' fill-opacity='0.8' d='M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z'/%3E%3C/svg%3E");
            opacity: 0.7;
        }
        .bg-suns { 
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 24 24'%3E%3Ccircle fill='%23FFD700' fill-opacity='0.6' cx='12' cy='12' r='5'/%3E%3Cpath fill='%23FFD700' fill-opacity='0.6' d='M12 3l1.5 3.5L17 6l-3 2.5 1 4-3.5-2-3.5 2 1-4L5 6l3.5-.5z'/%3E%3C/svg%3E");
            opacity: 0.5;
        }
        .bg-flowers { 
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 24 24'%3E%3Ccircle fill='%23D8BFD8' fill-opacity='0.6' cx='12' cy='12' r='3'/%3E%3Cpath fill='%23D8BFD8' fill-opacity='0.6' d='M12 16l3-3 3 3-3 3zM12 8l3 3 3-3-3-3zM8 12l3-3 3 3-3 3zM16 12l3 3-3 3-3-3z'/%3E%3C/svg%3E");
            opacity: 0.5;
        }
        .bg-cups { 
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 24 24'%3E%3Cpath fill='%23D2B48C' fill-opacity='0.6' d='M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6-2c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm6 16H6V8h2v2c0 .55.45 1 1 1s1-.45 1-1V8h4v2c0 .55.45 1 1 1s1-.45 1-1V8h2v12z'/%3E%3C/svg%3E");
            opacity: 0.5;
        }

        /* Остальные стили остаются без изменений */
        .scene {
            width: 200px;
            height: 200px;
            perspective: 1000px;
            margin-bottom: 30px;
        }

        .cube {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 3s cubic-bezier(0.17, 0.84, 0.44, 1);
        }

        .cube-face {
            position: absolute;
            width: 100%;
            height: 100%;
            border: 2px solid rgba(0, 0, 139, 0.3);
            border-radius: 15px;
            background: linear-gradient(145deg, #00008B, #1E90FF);
            box-shadow: 0 0 20px rgba(0, 0, 139, 0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 40px;
            color: white;
            backface-visibility: visible;
        }

        .cube-face::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 60%);
            border-radius: 13px;
            pointer-events: none;
        }

        .cube-face.front  { transform: rotateY(0deg) translateZ(100px); }
        .cube-face.right { transform: rotateY(90deg) translateZ(100px); }
        .cube-face.back  { transform: rotateY(180deg) translateZ(100px); }
        .cube-face.left  { transform: rotateY(-90deg) translateZ(100px); }
        .cube-face.top   { transform: rotateX(90deg) translateZ(100px); }
        .cube-face.bottom { transform: rotateX(-90deg) translateZ(100px); }

        .dot {
            width: 28px;
            height: 28px;
            background-color: #ADD8E6;
            border-radius: 50%;
            position: absolute;
            box-shadow: 0 0 5px rgba(173, 216, 230, 0.8);
        }

        /* Расположение точек остается без изменений */

        button {
            margin-top: 30px;
            padding: 15px 40px;
            font-size: 20px;
            background: linear-gradient(to bottom, #00008B, #1E90FF);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 6px 10px rgba(0, 0, 139, 0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 139, 0.4);
            background: linear-gradient(to bottom, #1E90FF, #00008B);
        }

        button:active {
            transform: translateY(1px);
            box-shadow: 0 4px 8px rgba(0, 0, 139, 0.3);
        }

        .result {
            margin-top: 25px;
            font-size: 36px;
            font-weight: bold;
            height: 50px;
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .result.show {
            opacity: 1;
            transform: translateY(0);
        }

        .message {
            margin-top: 20px;
            font-size: 22px;
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease 0.3s, transform 0.5s ease 0.3s;
            max-width: 80%;
            line-height: 1.4;
        }

        .message.show {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <div class="bg-pattern" id="bgPattern"></div>
    
    <div class="scene">
        <div class="cube" id="cube">
            <!-- Грани кубика остаются без изменений -->
        </div>
    </div>

    <button id="rollButton">Бросить кубик</button>
    <div class="result" id="result"></div>
    <div class="message" id="message"></div>

    <script>
        const cube = document.getElementById('cube');
        const rollButton = document.getElementById('rollButton');
        const resultDisplay = document.getElementById('result');
        const messageDisplay = document.getElementById('message');
        const bgPattern = document.getElementById('bgPattern');
        let isRolling = false;
        let animationId;

        const outcomes = [
            { 
                x: 0, y: 0, value: 1,
                bgColor: '#FFE4E1', bgClass: 'bg-hearts',
                resultText: 'Любви!', resultColor: '#FF6B6B',
                messageText: 'Всего самого лучшего!'
            },
            { 
                x: 0, y: 180, value: 2,
                bgColor: '#F0FFF0', bgClass: 'bg-clovers',
                resultText: 'Удачи!', resultColor: '#3CB371',
                messageText: 'Пусть все будет так, как ты захочешь!'
            },
            { 
                x: 0, y: 90, value: 3,
                bgColor: '#F0F8FF', bgClass: 'bg-clouds',
                resultText: 'Счастья!', resultColor: '#4682B4',
                messageText: 'Пусть каждый день будет самым лучшим!'
            },
            { 
                x: 0, y: -90, value: 4,
                bgColor: '#FFF8DC', bgClass: 'bg-suns',
                resultText: 'Ты солнце!', resultColor: '#FFA500',
                messageText: 'Пусть в твоей жизни никогда не будет пасмурных дней!'
            },
            { 
                x: 90, y: 0, value: 5,
                bgColor: '#F5F0FF', bgClass: 'bg-flowers',
                resultText: 'Ты чудо!', resultColor: '#9370DB',
                messageText: 'Самых ярких цветов и самых ярких дней!'
            },
            { 
                x: -90, y: 0, value: 6,
                bgColor: '#FAF0E6', bgClass: 'bg-cups',
                resultText: 'Успехов!', resultColor: '#BC8F8F',
                messageText: 'Пусть у тебя все получится!'
            }
        ];

        function getRandomRotation() {
            return {
                x: Math.floor(Math.random() * 360 * 4) + 360 * 3,
                y: Math.floor(Math.random() * 360 * 4) + 360 * 3,
                z: Math.floor(Math.random() * 360 * 2)
            };
        }

        function rollCube() {
            if (isRolling) return;
            
            isRolling = true;
            resultDisplay.classList.remove('show');
            messageDisplay.classList.remove('show');
            
            const spinDuration = 3500;
            const startTime = performance.now();
            const randomRot = getRandomRotation();
            const targetOutcome = outcomes[Math.floor(Math.random() * outcomes.length)];
            
            function animate(currentTime) {
                const elapsed = currentTime - startTime;
                const
        
